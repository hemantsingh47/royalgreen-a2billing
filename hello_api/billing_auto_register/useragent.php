<?php
class UserAgent
{
    public function get_user_agent()
    {
        $user_agent = '';
        if($_SERVER['HTTP_USER_AGENT'])
        {
            $user_agent = $_SERVER['HTTP_USER_AGENT'];
        }
        else
        {
             $user_agent = $_SERVER['HTTPS_USER_AGENT'];
        }
        
        $os_platform    =   "iPhone";
    $os_array       =   array(
                            '/windows nt 10.0/i'     =>  'Windows 10',
                            '/windows nt 6.2/i'     =>  'Windows 8',
                            '/windows nt 6.1/i'     =>  'Windows 7',
                            '/windows nt 6.0/i'     =>  'Windows Vista',
                            '/windows nt 5.2/i'     =>  'Windows Server 2003/XP x64',
                            '/windows nt 5.1/i'     =>  'Windows XP',
                            '/windows xp/i'         =>  'Windows XP',
                            '/windows nt 5.0/i'     =>  'Windows 2000',
                            '/windows me/i'         =>  'Windows ME',
                            '/win98/i'              =>  'Windows 98',
                            '/win95/i'              =>  'Windows 95',
                            '/win16/i'              =>  'Windows 3.11',
                            '/macintosh|mac os x/i' =>  'Mac OS X',
                            '/mac_powerpc/i'        =>  'Mac OS 9',
                            '/linux/i'              =>  'Linux',
                            '/ubuntu/i'             =>  'Ubuntu',
                            '/iphone/i'             =>  'iPhone',
                            '/ipod/i'               =>  'iPod',
                            '/ipad/i'               =>  'iPad',
                            '/android/i'            =>  'Android',
                            '/blackberry/i'         =>  'BlackBerry',
                            '/webos/i'              =>  'Mobile',
                            '/Apple-iPhone/' => 'iPhone, 3G or 3GS with iOS 3.x',
                             '/Apple-iPhone1C2/' => 'iPhone 3G with iOS 4.x',
                             '/Apple-iPhone2C1/' => 'iPhone 3GS with iOS 4.x',
                             '/Apple-iPhone3C1/' => 'iPhone 4 GSM',
                             '/Apple-iPhone3C2/' => 'iPhone 4 GSM',
                             '/Apple-iPhone3C3/' => 'iPhone 4 CDMA',
                             '/Apple-iPhone4C1/' => 'iPhone 4S',
                             '/Apple-iPhone5C1/' => 'iPhone 5 GSM',
                             '/Apple-iPhone5C2/' => 'iPhone 5 CDMA',
                             '/Apple-iPhone5C3/' => 'iPhone 5C GSM',
                             '/Apple-iPhone5C4/' => 'iPhone 5C CDMA',
                             '/Apple-iPhone6C1/' => 'iPhone 5S GSM',
                             '/Apple-iPhone6C2/' => 'iPhone 5S CDMA',
                             '/Apple-iPhone7C1/' => 'iPhone 6+ CDMA',
                             '/Apple-iPhone7C2/' => 'iPhone 6 CDMA',
                             '/Apple-iPod/' => 'iPod touch 1st, 2nd or 3rd generation with iOS 3.x',
                             '/Apple-iPod2C1/' => 'iPod touch 2nd generation with iOS 4.x',
                             '/Apple-iPod3C1/' => 'iPod touch 3rd generation with iOS 4.x',
                             '/Apple-iPod4C1/' => 'iPod touch 4th generation',
                             '/Apple-iPod5C1/' => 'iPod touch 5th generation',
                             '/Apple-iPad/' => 'iPad with iOS 3.2.x',
                             '/Apple-iPad1C1/' => 'iPad with iOS 4.2.x',
                             '/Apple-iPad2C1/' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/' => 'iPad 2 WiFi + 3G GSM',
                             '/Apple-iPad2C3/' => 'iPad 2 WiFi + 3G CDMA',
                             '/Apple-iPad2C4/' => 'iPad Mini - WIFI',
                             '/Apple-iPad2C5/' => 'iPad Mini - WIFI + LTE',
                             '/Apple-iPad3C1/' => 'iPad (3rd generation) WiFi',
                             '/Apple-iPad3C2/' => 'iPad (3rd generation) WiFi + 4G Verizon / International',
                             '/Apple-iPad3C3/' => 'iPad (3rd generation) WiFi + 4G AT&T / International',
                             '/Apple-iPad3C4/' => 'iPad (4th Gen, WiFi Only)',
                             '/Apple-iPad3C5/' => 'iPad (4th Gen, GSM, NA LTE)',
                             '/Apple-iPad3C6/' => 'iPad (4th Gen, CDMA, LTE)',
                             '/Apple-iPad4C1/' => 'iPad Air - WiFi',
                             '/Apple-iPad4C2/' => 'iPad Air - WiFi + LTE',
                             '/Apple-iPad4C4/' => 'iPad Mini with Retina Display - WIFI',
                             '/Apple-iPad4C5/' => 'iPad Mini with Retina Display - WIFI + LTE',
                             '/Apple-iPhone/501.347' => 'iPhone original/3G, iOS 2',
                             '/Apple-iPhone/502.108' => 'iPhone original/3G, iOS 2.0.1',
                             '/Apple-iPhone/503.001' => 'iPhone original/3G, iOS 2.0.2',
                             '/Apple-iPhone/506.136' => 'iPhone original/3G, iOS 2.1',
                             '/Apple-iPhone/505.138' => 'iPhone original/3G, iOS 2.1.1',
                             '/Apple-iPhone/507.077' => 'iPhone original/3G, iOS 2.2',
                             '/Apple-iPhone/508.11' => 'iPhone original/3G, iOS 2.2.1',
                             '/Apple-iPhone/701.341' => 'iPhone original/3G/3GS, iOS 3',
                             '/Apple-iPhone/701.400' => 'iPhone original/3G/3GS, iOS 3.0.1',
                             '/Apple-iPhone/703.144' => 'iPhone, iPhone 3G, iPhone 3GS, iOS 3.1',
                             '/Apple-iPhone/704.011' => 'iPhone original/3G/3GS, iOS 3.1.2',
                             '/Apple-iPhone/705.018' => 'iPhone original/3G/3GS, iOS 3.1.3',
                             '/Apple-iPhone1C2/801.293' => 'iPhone 3G, iOS 4',
                             '/Apple-iPhone2C1/801.293' => 'iPhone 3GS, iOS 4',
                             '/Apple-iPhone3C1/801.293' => 'iPhone 4, iOS 4',
                             '/Apple-iPhone1C2/801.306' => 'iPhone 3G, iOS 4.0.1',
                             '/Apple-iPhone2C1/801.306' => 'iPhone 3GS, iOS 4.0.1',
                             '/Apple-iPhone3C1/801.306' => 'iPhone 4, iOS 4.0.1',
                             '/Apple-iPhone1C2/801.400' => 'iPhone 3G, iOS 4.0.2',
                             '/Apple-iPhone2C1/801.400' => 'iPhone 3GS, iOS 4.0.2',
                             '/Apple-iPhone3C1/801.400' => 'iPhone 4, iOS 4.0.2',
                             '/Apple-iPhone1C2/802.117' => 'iPhone 3G, iOS 4.1',
                             '/Apple-iPhone2C1/802.117' => 'iPhone 3GS, iOS 4.1',
                             '/Apple-iPhone3C1/802.117' => 'iPhone 4, iOS 4.1',
                             '/Apple-iPhone1C2/803.148' => 'iPhone 3G, iOS 4.2.1',
                             '/Apple-iPhone3C1/803.148' => 'iPhone 4, iOS 4.2.1',
                             '/Apple-iPhone2C1/803.14800001' => 'iPhone 3GS, iOS 4.2.1',
                             '/Apple-iPhone3C3/805.128' => 'iPhone 4 CDMA, iOS 4.2.5',
                             '/Apple-iPhone3C3/805.200' => 'iPhone 4 CDMA, iOS 4.2.6',
                             '/Apple-iPhone3C3/805.303' => 'iPhone 4 CDMA, iOS 4.2.7',
                             '/Apple-iPhone3C3/805.401' => 'iPhone 4 CDMA, iOS 4.2.8',
                             '/Apple-iPhone3C3/805.501' => 'iPhone 4 CDMA, iOS 4.2.9',
                             '/Apple-iPhone3C3/805.600' => 'iPhone 4 CDMA, iOS 4.2.10',
                             '/Apple-iPhone2C1/807.4' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/807.4' => 'iPhone 4 GSM',
                             '/Apple-iPhone2C1/808.7' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/808.7' => 'iPhone 4 GSM',
                             '/Apple-iPhone2C1/810.2' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/810.2' => 'iPhone 4 GSM',
                             '/Apple-iPhone2C1/811.2' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/811.2' => 'iPhone 4 GSM',
                             '/Apple-iPhone2C1/812.1' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/812.1' => 'iPhone 4 GSM',
                             '/Apple-iPhone2C1/901.334' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/901.334' => 'iPhone 4 GSM',
                             '/Apple-iPhone3C3/901.334' => 'iPhone 4 CDMA',
                             '/Apple-iPhone4C1/901.334' => 'iPhone 4S',
                             '/Apple-iPhone2C1/901.405' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/901.405' => 'iPhone 4 GSM',
                             '/Apple-iPhone3C3/901.405' => 'iPhone 4 CDMA',
                             '/Apple-iPhone4C1/901.405' => 'iPhone 4S',
                             '/Apple-iPhone4C1/901.406' => 'iPhone 4S',
                             '/Apple-iPhone2C1/902.176' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/902.176' => 'iPhone 4 GSM',
                             '/Apple-iPhone3C3/902.176' => 'iPhone 4 CDMA',
                             '/Apple-iPhone4C1/902.179' => 'iPhone 4S',
                             '/Apple-iPhone2C1/902.206' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/902.206' => 'iPhone 4 GSM',
                             '/Apple-iPhone3C3/902.206' => 'iPhone 4 CDMA',
                             '/Apple-iPhone4C1/902.206' => 'iPhone 4S',
                             '/Apple-iPhone2C1/1001.403' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/1001.403' => 'iPhone 4 GSM',
                             '/Apple-iPhone3C3/1001.403' => 'iPhone 4 CDMA',
                             '/Apple-iPhone4C1/1001.403' => 'iPhone 4S',
                             '/Apple-iPhone5C1/1001.405' => 'iPhone 5 GSM',
                             '/Apple-iPhone5C2/1001.405' => 'iPhone 5 CDMA',
                             '/Apple-iPhone2C1/1001.523' => 'iPhone 3GS',
                             '/Apple-iPhone3C1/1001.523' => 'iPhone 4 GSM',
                             '/Apple-iPhone3C3/1001.523' => 'iPhone 4 CDMA',
                             '/Apple-iPhone4C1/1001.523' => 'iPhone 4S',
                             '/Apple-iPhone5C1/1001.525' => 'iPhone 5 GSM',
                             '/Apple-iPhone5C2/1001.525' => 'iPhone 5 CDMA',
                             '/Apple-iPhone7C1/1202.440' => 'iPhone 5+ CDMA',
                             '/Apple-iPhone7C2/1202.466' => 'iPhone 6 CDMA',
                             '/Apple-iPod/501.347' => 'iPod touch 1st generation, iOS 2',
                             '/Apple-iPod/502.108' => 'iPod touch 1st generation, iOS 2.0.1',
                             '/Apple-iPod/503.001' => 'iPod touch 1st generation, iOS 2.0.2',
                             '/Apple-iPod/506.137' => 'iPod touch 1st generation, iOS 2.1',
                             '/Apple-iPod/505.138' => 'iPod touch 1st generation, iOS 2.1.1',
                             '/Apple-iPod/507.077' => 'iPod touch 1st generation, iOS 2.2',
                             '/Apple-iPod/507.07700001' => 'iPod touch 2nd, iOS 2.2',
                             '/Apple-iPod/508.11' => 'iPod touch 1st generation, iOS 2.2.1',
                             '/Apple-iPod/508.01100001' => 'iPod touch 2nd generation, iOS 2.2.1',
                             '/Apple-iPod/701.341' => 'iPod touch 1st/2nd generation, iOS 3',
                             '/Apple-iPod/701.400' => 'iPod touch 1st/2nd generation, iOS 3.0.1',
                             '/Apple-iPod/703.145' => 'iPod touch 1st/2nd generation, iOS 3.1',
                             '/Apple-iPod/703.146' => 'iPod touch 3rd generation, iOS 3.1',
                             '/Apple-iPod/704.011' => 'iPod touch 1st/2nd/3rd generation, iOS 3.1.2',
                             '/Apple-iPod/705.018' => 'iPod touch 1st/2nd/3rd generation, iOS 3.1.3',
                             '/Apple-iPod2C1/801.293' => 'iPod touch 2nd generation, iOS 4',
                             '/Apple-iPod3C1/801.293' => 'iPod touch 3rd generation, iOS 4',
                             '/Apple-iPod2C1/801.306' => 'iPod touch 2nd generation, iOS 4.0.1',
                             '/Apple-iPod3C1/801.306' => 'iPod touch 3rd generation, iOS 4.0.1',
                             '/Apple-iPod2C1/801.400' => 'iPod touch 2nd generation, iOS 4.0.2',
                             '/Apple-iPod3C1/801.400' => 'iPod touch 3rd generation, iOS 4.0.2',
                             '/Apple-iPod2C1/802.117' => 'iPod touch 2nd generation, iOS 4.1',
                             '/Apple-iPod3C1/802.117' => 'iPod touch 3rd generation, iOS 4.1',
                             '/Apple-iPod4C1/802.117' => 'iPod touch 4th generation, iOS 4.1',
                             '/Apple-iPod2C1/803.148' => 'iPod touch 2nd generation, iOS 4.2.1',
                             '/Apple-iPod3C1/803.148' => 'iPod touch 3rd generation, iOS 4.2.1',
                             '/Apple-iPod4C1/803.148' => 'iPod touch 4th generation, iOS 4.2.1',
                             '/Apple-iPod3C1/807.4' => 'iPod touch 3rd generation',
                             '/Apple-iPod4C1/807.4' => 'iPod touch 4th generation',
                             '/Apple-iPod3C1/808.7' => 'iPod touch 3rd generation',
                             '/Apple-iPod4C1/808.7' => 'iPod touch 4th generation',
                             '/Apple-iPod3C1/810.2' => 'iPod touch 3rd generation',
                             '/Apple-iPod4C1/810.2' => 'iPod touch 4th generation',
                             '/Apple-iPod3C1/811.2' => 'iPod touch 3rd generation',
                             '/Apple-iPod4C1/811.2' => 'iPod touch 4th generation',
                             '/Apple-iPod3C1/812.1' => 'iPod touch 3rd generation',
                             '/Apple-iPod4C1/812.1' => 'iPod touch 4th generation',
                             '/Apple-iPod3C1/901.334' => 'iPod touch 3rd generation',
                             '/Apple-iPod4C1/901.334' => 'iPod touch 4th generation',
                             '/Apple-iPod3C1/901.334' => 'iPod touch 3rd generation',
                             '/Apple-iPod4C1/901.334' => 'iPod touch 4th generation',
                             '/Apple-iPod3C1/902.176' => 'iPod touch 3rd generation',
                             '/Apple-iPod4C1/902.176' => 'iPod touch 4th generation',
                             '/Apple-iPod3C1/902.206' => 'iPod touch 3rd generation',
                             '/Apple-iPod4C1/902.206' => 'iPod touch 4th generation',
                             '/Apple-iPod4C1/1001.403' => 'iPod touch 4th generation',
                             '/Apple-iPod5C1/1001.406' => 'iPod touch 5th generation',
                             '/Apple-iPod4C1/1001.523' => 'iPod touch 4th generation',
                             '/Apple-iPod5C1/1001.523' => 'iPod touch 5th generation',
                             '/Apple-iPad/702.367' => 'iPad, iOS 3.2',
                             '/Apple-iPad/702.405' => 'iPad, iOS 3.2.1',
                             '/Apple-iPad/702.500' => 'iPad, iOS 3.2.2',
                             '/Apple-iPad1C1/803.148' => 'iPad, iOS 4.2.1',
                             '/Apple-iPad1C1/806.190' => 'iPad, iOS 4.3',
                             '/Apple-iPad2C1/806.191' => 'iPad 2 WiFi, iOS 4.3',
                             '/Apple-iPad2C2/806.191' => 'iPad 2 GSM, iOS 4.3',
                             '/Apple-iPad2C3/806.191' => 'iPad 2 CDMA, iOS 4.3',
                             '/Apple-iPad1C1/807.4' => 'iPad',
                             '/Apple-iPad2C1/807.4' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/807.4' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/807.4' => 'iPad 2 CDMA',
                             '/Apple-iPad1C1/808.7' => 'iPad',
                             '/Apple-iPad2C1/808.7' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/808.7' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/808.8' => 'iPad 2 CDMA',
                             '/Apple-iPad2C1/810.2' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/810.2' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/810.2' => 'iPad 2 CDMA',
                             '/Apple-iPad1C1/810.3' => 'iPad',
                             '/Apple-iPad1C1/811.2' => 'iPad',
                             '/Apple-iPad2C1/811.2' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/811.2' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/811.2' => 'iPad 2 CDMA',
                             '/Apple-iPad1C1/812.1' => 'iPad',
                             '/Apple-iPad2C1/812.1' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/812.1' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/812.1' => 'iPad 2 CDMA',
                             '/Apple-iPad1C1/901.334' => 'iPad',
                             '/Apple-iPad2C1/901.334' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/901.334' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/901.334' => 'iPad 2 CDMA',
                             '/Apple-iPad1C1/901.334' => 'iPad',
                             '/Apple-iPad2C1/901.334' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/901.334' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/901.334' => 'iPad 2 CDMA',
                             '/Apple-iPad1C1/902.176' => 'iPad',
                             '/Apple-iPad2C1/902.176' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/902.176' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/902.176' => 'iPad 2 CDMA',
                             '/Apple-iPad3C1/902.176' => 'iPad (3rd generation) WiFi',
                             '/Apple-iPad3C2/902.176' => 'iPad (3rd generation) Verizon',
                             '/Apple-iPad3C3/902.176' => 'iPad (3rd generation) AT&T / International',
                             '/Apple-iPad1C1/902.206' => 'iPad',
                             '/Apple-iPad2C1/902.206' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/902.206' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/902.206' => 'iPad 2 CDMA',
                             '/Apple-iPad3C1/902.206' => 'iPad (3rd generation) WiFi',
                             '/Apple-iPad3C2/902.206' => 'iPad (3rd generation) Verizon',
                             '/Apple-iPad3C3/902.206' => 'iPad (3rd generation) AT&T / International',
                             '/Apple-iPad2C1/1001.403' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/1001.403' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/1001.403' => 'iPad 2 CDMA',
                             '/Apple-iPad2C4/1001.403' => 'iPad 2,4',
                             '/Apple-iPad3C1/1001.403' => 'iPad (3rd generation) WiFi',
                             '/Apple-iPad3C2/1001.403' => 'iPad (3rd generation) Verizon',
                             '/Apple-iPad3C3/1001.403' => 'iPad (3rd generation) AT&T / International',
                             '/Apple-iPad2C1/1001.523' => 'iPad 2 WiFi',
                             '/Apple-iPad2C2/1001.523' => 'iPad 2 GSM',
                             '/Apple-iPad2C3/1001.523' => 'iPad 2 CDMA',
                             '/Apple-iPad2C4/1001.523' => 'iPad 2,4',
                             '/Apple-iPad3C1/1001.523' => 'iPad (3rd generation) WiFi',
                             '/Apple-iPad3C2/1001.523' => 'iPad (3rd generation) Verizon',
                             '/Apple-iPad3C3/1001.523' => 'iPad (3rd generation) AT&T / International',
							 '/CFNetwork/' => 'Iphone');
                              $os_platform = '';
                             foreach ($os_array as $regex => $value)
                             { 
                                if (preg_match($regex, $user_agent))
                                {
                                    $os_platform    =   $value;
                                }
                             }
                             return $os_platform;
                             
    }
    
}
  ?>
